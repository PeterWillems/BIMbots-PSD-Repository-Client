<div class="card">
  <div class="row card-header">
    <h5>Property set repository</h5>
    <button ngbTooltip="Add a property set" placement="right" (click)="onAddPropertySet()"
            type="button" class="col-1 btn" style="color: #15a589; background: transparent; margin: 0px; padding: 0px">
      <i
        class="fas fa-plus-circle fa-3x"></i></button>
    <span *ngIf="loadingAllPSDs"><i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>
          <span class="sr-only">Loading...</span></span>
  </div>
  <div class="row card-body">
    <div class="col-4">
      <div class="row repository-body">
        <table class="table">
          <tr *ngFor="let psd of allPSDs;trackBy: trackById" (click)="selectPsd(psd)"
              [class]="isSelected(psd)?'selected-property-set-def':''">
            <td class="first-column"><i *ngIf="isLoadingOnePSD(psd)"
                                        class="fa fa-spinner fa-pulse fa-2x fa-fw"></i><span
              class="sr-only">Loading...</span></td>
            <td class="first-column">
              <button *ngIf="!isLoadingOnePSD(psd) && isSelected(psd)" ngbTooltip="Delete this property set"
                      placement="top"
                      (click)="onDeletePropertySet(psd)"
                      type="button" class="col-1 btn"
                      style="color: #15a589; background: transparent; margin: 0px; padding: 0px"><i
                class="fas fa-trash fa-2x"></i></button>
            </td>
            <td class="link-item name-column">{{psd.name}}</td>
          </tr>
        </table>
      </div>
    </div>
    <div class="col-7">
      <app-property-set-definition
        *ngIf="selectedPSD"
        (propDefUpdated)="onPropDefUpdated($event)"
        [selectedPropSetDef]="selectedPSD"></app-property-set-definition>
    </div>
  </div>
</div>
